/**
 * quick-marquee.js - 0.1.0
 *
 * @license MIT
 */
var QuickMarquee=function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function e(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function r(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,a(t,e,"get"))}function n(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,a(t,e,"set"),i),i}function a(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){s(t,e),e.set(t,i)}function u(t,e){s(t,e),e.add(t)}var h=.5,f=20,c=new WeakMap,v=new WeakMap,p=new WeakMap,d=new WeakMap,m=new WeakMap,w=new WeakMap,b=new WeakMap,g=new WeakMap,y=new WeakSet,F=new WeakSet,k=function(){function i(t){var r,a,s,k=this,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),u(this,F),u(this,y),e(this,"target",void 0),e(this,"pixelsPerFrame",void 0),l(this,c,{writable:!0,value:void 0}),l(this,v,{writable:!0,value:void 0}),l(this,p,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),l(this,m,{writable:!0,value:void 0}),l(this,w,{writable:!0,value:void 0}),l(this,b,{writable:!0,value:void 0}),l(this,g,{writable:!0,value:void 0}),this.target="string"==typeof(s=t)?document.querySelector(s):s instanceof HTMLElement?s:Array.isArray(s)&&s[0]instanceof HTMLElement?s[0]:null,this.pixelsPerFrame=null!==(r=null==M?void 0:M.pixelsPerFrame)&&void 0!==r?r:h,n(this,c,null!==this.target?Array.from(this.target.querySelectorAll(":scope > *")):[]),n(this,v,!1),n(this,p,!0),n(this,d,0),n(this,m,!1),n(this,w,[]),n(this,b,0),n(this,g,0),o(this,y,E).call(this);var W,T,P,S=null!==(a=null==M?void 0:M.debounceMs)&&void 0!==a?a:f;window.addEventListener("resize",(W=S,T=function(){return o(k,y,E).call(k)},function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];void 0!==P&&clearTimeout(P),P=setTimeout((function(){T.apply(void 0,e)}),W)}))}var a,s,k;return a=i,(s=[{key:"start",value:function(){var t=this;return r(this,m)||(n(this,p,!0),n(this,m,!0),window.requestAnimationFrame((function(e){return o(t,F,M).call(t,e)}))),this}},{key:"stop",value:function(){return n(this,m,!1),this}}])&&t(a.prototype,s),k&&t(a,k),Object.defineProperty(a,"prototype",{writable:!1}),i}();function E(){var t=this;if(null!==this.target){n(this,v,!0),this.target.innerHTML="",r(this,c).forEach((function(e){var i;return null===(i=t.target)||void 0===i?void 0:i.appendChild(e)})),Number.parseFloat(window.getComputedStyle(this.target,null).columnGap);var e=r(this,c).map((function(t){return t.offsetWidth})),i=r(this,c).map((function(t,e,i){return r=t,n=window.getComputedStyle(r,null),a=Number.parseFloat(n.marginLeft),o=Number.parseFloat(n.marginRight),s=r.parentElement?Number.parseFloat(window.getComputedStyle(r.parentElement,null).columnGap):0,r.offsetWidth+(Number.isFinite(a)?a:0)+(Number.isFinite(o)?o:0)+(Number.isFinite(s)?s:0);var r,n,a,o,s})),a=i.reduce((function(t,e){return t+e}),0),o=this.target.offsetWidth;console.debug(this.target,a);var s=[],l=0,u=0;if(a>0)for(;l<o+a;){var h=r(this,c)[u].cloneNode(!0);h.style.width="".concat(e[u],"px"),s.push(h),l+=i[u],u=(u+1)%e.length}n(this,w,s),n(this,b,a),this.target.innerHTML="",s.forEach((function(e){var i;return null===(i=t.target)||void 0===i?void 0:i.appendChild(e)})),n(this,g,r(this,g)%r(this,b)),n(this,v,!1)}}function M(t){var e=this;if(r(this,m)&&window.requestAnimationFrame((function(t){return o(e,F,M).call(e,t)})),!r(this,v)){if(r(this,p))return n(this,d,t),void n(this,p,!1);var i=(t-r(this,d))/(1e3/60);n(this,d,t),n(this,g,this.pixelsPerFrame>0?(r(this,g)+this.pixelsPerFrame*i)%r(this,b):(r(this,g)+r(this,b)+this.pixelsPerFrame*i)%r(this,b)),r(this,w).forEach((function(t){t.style.transform="translate(".concat(-r(e,g),"px, 0)")}))}}return k}();
